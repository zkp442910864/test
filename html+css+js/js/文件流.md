
webWorker 线程里，对象转移
    好像主要是针对流才能实现
    1. 大数据json，可以通过 blob 生成 arrayBuffer
    2. postMessage(ab, [ab])
    3. arrayBuffer



Blob
    https://developer.mozilla.org/zh-CN/docs/Web/API/Blob
    https://developer.mozilla.org/zh-CN/docs/Web/API/Blob/Blob

    Blob 对象表示一个不可变、原始数据的类文件对象。它的数据可以按文本或二进制的格式进行读取，也可以转换成 ReadableStream 来用于数据操作。
    Blob 表示的不一定是JavaScript原生格式的数据。File 接口基于Blob，继承了 blob 的功能并将其扩展使其支持用户系统上的文件。

    new Blob(array, options);
    array       是一个由 ArrayBuffer, ArrayBufferView, Blob, DOMString 等对象构成的 Array ，或者其他类似对象的混合体，它将会被放进 Blob。DOMStrings会被编码为UTF-8。
    options     是一个可选的BlobPropertyBag字典，它可能会指定如下两个属性：
        type        默认值为 ""，它代表了将会被放入到blob中的数组内容的MIME类型。
        endings     默认值为"transparent"，用于指定包含行结束符\n的字符串如何被写入。
                    它是以下两个值中的一个： "native"，代表行结束符会被更改为适合宿主操作系统文件系统的换行符，或者 "transparent"，代表会保持blob中保存的结束符不变

    Blob.slice([start[, end[, contentType]]])
        返回一个新的 Blob 对象，包含了源 Blob 对象中指定范围内的数据。

    Blob.stream()
        返回一个能读取blob内容的 ReadableStream。

    Blob.text()
        返回一个promise且包含blob所有内容的UTF-8格式的 USVString。

    Blob.arrayBuffer()
        返回一个promise且包含blob所有内容的二进制格式的 ArrayBuffer

    字符串构建一个 blob
        const blob = new Blob([JSON.stringify(debug, null, 2)], {type : 'application/json'});
        const url = URL.createObjectURL(blob);

    创建一个指向类型化数组的URL
        const blob = new Blob([typedArray.buffer], {type: 'application/octet-stream'});
        // 当打开链接时候会自动下载
        const url = URL.createObjectURL(blob);


File
    https://developer.mozilla.org/zh-CN/docs/Web/API/File/File
    https://developer.mozilla.org/zh-CN/docs/Web/API/File

    File 对象是特殊类型的 Blob
    返回一个新构建的文件对象（File）。

    new File(bits, name[, options])
        bits    一个包含ArrayBuffer，ArrayBufferView，Blob，或者 DOMString 对象的 Array — 或者任何这些对象的组合。这是 UTF-8 编码的文件内容。
        name    表示文件名称，或者文件路径。
        options {type, lastModified}
            type: DOMString，表示将要放到文件中的内容的 MIME 类型。默认值为 "" 。
            lastModified: 数值，表示文件最后修改时间的 Unix 时间戳（毫秒）。默认值为 Date.now()。


FileReader
    https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader
    https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader/FileReader

    FileReader 对象允许Web应用程序异步读取存储在用户计算机上的文件（或原始数据缓冲区）的内容，使用 File 或 Blob 对象指定要读取的文件或数据。

    const reader = new FileReader();

    FileReader.result 只读
        文件的内容。该属性仅在读取操作完成后才有效，数据的格式取决于使用哪个方法来启动读取操作。

    FileReader.error 只读
        一个DOMException，表示在读取文件时发生的错误 。

    FileReader.readyState 只读
        EMPTY	0	还没有加载任何数据.
        LOADING	1	数据正在被加载.
        DONE	2	已完成全部的读取请求.

    FileReader.readAsArrayBuffer()
        开始读取指定的 Blob中的内容, 一旦完成, result 属性中保存的将是被读取文件的 ArrayBuffer 数据对象.

    FileReader.readAsBinaryString()
        开始读取指定的Blob中的内容。一旦完成，result属性中将包含所读取文件的原始二进制数据。

    FileReader.readAsDataURL()
        开始读取指定的Blob中的内容。一旦完成，result属性中将包含一个data: URL格式的Base64字符串以表示所读取文件的内容。

    FileReader.readAsText()
        开始读取指定的Blob中的内容。一旦完成，result属性中将包含一个字符串以表示所读取的文件内


MIME 类型 https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Basics_of_HTTP/MIME_types
    媒体类型（通常称为 Multipurpose Internet Mail Extensions 或 MIME 类型 ）是一种标准，用来表示文档、文件或字节流的性质和格式。它在IETF RFC 6838中进行了定义和标准化。
    TODO:
        浏览器通常使用MIME类型（而不是文件扩展名）来确定如何处理URL，因此Web服务器在响应头中添加正确的MIME类型非常重要。
        如果配置不正确，浏览器可能会曲解文件内容，网站将无法正常工作，并且下载的文件也会被错误处理。

    类型前缀的意思
        text	        表明文件是普通文本，理论上是人类可读
            text/plain, text/html, text/css, text/javascript

        image	        表明是某种图像。不包括视频，但是动态图（比如动态gif）也使用image类型
            image/gif, image/png, image/jpeg, image/bmp, image/webp, image/x-icon, image/vnd.microsoft.icon

        audio	        表明是某种音频文件
            audio/midi, audio/mpeg, audio/webm, audio/ogg, audio/wav

        video	        表明是某种视频文件
            video/webm, video/ogg

        application	    表明是某种二进制数据
            application/octet-stream, application/pkcs12, application/vnd.mspowerpoint, application/xhtml+xml, application/xml,  application/pdf

ReadableStream https://developer.mozilla.org/zh-CN/docs/Web/API/ReadableStream
    呈现了一个可读取的二进制流操作

Streams API https://developer.mozilla.org/zh-CN/docs/Web/API/Streams_API
